<!DOCTYPE html>
<html>
<body>

<h2>POST /users</h2>
<h3>Sample command curl -X POST -d '{"Name":"John Doe","Email":"johndoe@example.com"}' http://localhost:3000/users</h3>
<form id="post-user-form">
  <label for="name">Name:</label><br>
  <input type="text" id="name" name="name"><br>
  <label for="email">Email:</label><br>
  <input type="text" id="email" name="email"><br>
  <input type="submit" value="Submit">
</form>

<script>
document.getElementById('post-user-form').addEventListener('submit', function(e) {
  e.preventDefault();
  var name = document.getElementById('name').value;
  var email = document.getElementById('email').value;
  fetch('/users', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({Name: name, Email: email})
  })
  .then(response => response.json())
  .then(data => {
    // Redirect to the new user's page
    window.location.href = '/users/' + data.id;
  })
  .catch(error => {
    console.error('Error:', error); // Log any errors
  });
});
</script>

<div id="footer"></div>

<script>
// Function to load the footer
function loadFooter() {
  fetch('/footer.html')
    .then(response => response.text())
    .then(footer => {
      document.getElementById('footer').innerHTML = footer;
      // Find the script tag in the footer and execute it
      var script = document.getElementById('footer').querySelector('script');
      eval(script.textContent);
    })
    .catch(error => {
      console.error('Error:', error); // Log any errors
    });
}

// Load the footer when the page is loaded
loadFooter();

// Auto-refresh the footer every 5 seconds
setInterval(loadFooter, 5000);
</script>

</body>
</html>